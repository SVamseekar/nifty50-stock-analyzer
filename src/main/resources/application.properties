# STOCK ANALYZER - CORRECTED CONFIGURATION

# Server Configuration
server.port=8081
# FIXED: Remove context path to simplify URL mapping
server.servlet.context-path=/
spring.application.name=stock-analyzer-with-ma

# MONGODB CONFIGURATION
spring.data.mongodb.uri=mongodb://localhost:27017/stock-analyzer-ma
spring.data.mongodb.auto-index-creation=true

# KITE API CONFIGURATION
kite.api.key=${KITE_API_KEY:not_configured}
kite.api.secret=${KITE_API_SECRET:not_configured}
kite.access.token=${KITE_ACCESS_TOKEN:not_configured}
kite.api.base.url=https://api.kite.trade
kite.api.rate.limit.delay.ms=400

# APPLICATION FEATURE FLAGS - REAL DATA ONLY
app.use.real.data=true
app.mock.data.enabled=false
app.nifty50.auto.fetch=true
app.scheduler.enabled=true
app.moving.averages.enabled=true

# THYMELEAF CONFIGURATION
spring.thymeleaf.cache=false
spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html

# LOGGING CONFIGURATION
logging.level.com.stockanalysis=INFO
logging.level.org.springframework.data.mongodb=WARN
logging.level.org.springframework.scheduling=INFO

# JSON CONFIGURATION
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.date-format=yyyy-MM-dd
spring.jackson.time-zone=Asia/Kolkata

# ERROR HANDLING
server.error.include-message=always
server.error.include-binding-errors=always

# ACTUATOR - EXPOSE MAPPINGS FOR DEBUGGING
management.endpoints.web.exposure.include=health,info,metrics,mappings